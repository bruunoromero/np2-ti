angular.module("app").directive("sidebarListItem", function() {
  return {
    replace: true,
    restrict: "E",
    templateUrl: "<%= asset_path './sidebarListItemDirective.html' %>",
    scope: {
      id: "=",
      album: "=",
      artist: "=",
      price: "="
    },
    controller: [
      "$scope",
      function($scope) {
        $scope.getImageName = function(name) {
          var res = name.toLowerCase();
          res = res.replace(/\s/g, "_").replace("/", ":");
          if (res === "purpose") {
            res += "_square";
          }

          return "/images/" + res + ".jpg";
        };
      }
    ]
  };
});
